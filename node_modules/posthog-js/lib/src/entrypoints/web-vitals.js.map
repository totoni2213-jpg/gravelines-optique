{"version":3,"file":"web-vitals.js","sourceRoot":"","sources":["../../../src/entrypoints/web-vitals.ts"],"names":[],"mappings":";;AAAA;;;;;;;;;;;;;;;;GAgBG;AACH,4CAAmD;AAEnD,yCAAuD;AAEvD,IAAM,yBAAyB,GAAG;IAC9B,KAAK,oBAAA;IACL,KAAK,oBAAA;IACL,KAAK,oBAAA;IACL,KAAK,oBAAA;CACR,CAAA;AAED,0BAAgB,CAAC,qBAAqB,GAAG,0BAAgB,CAAC,qBAAqB,IAAI,EAAE,CAAA;AACrF,0BAAgB,CAAC,qBAAqB,CAAC,yBAAyB,GAAG,yBAAyB,CAAA;AAE5F,iGAAiG;AACjG,kGAAkG;AAClG,QAAQ;AACR,2CAA2C;AAC3C,2EAA2E;AAC3E,0BAAgB,CAAC,yBAAyB,GAAG,yBAAyB,CAAA;AACtE,uDAAuD;AACvD,0BAAgB,CAAC,qBAAqB,CAAC,sBAAsB,GAAG,cAAM,OAAA,yBAAyB,EAAzB,CAAyB,CAAA;AAE/F,kBAAe,yBAAyB,CAAA","sourcesContent":["/**\n * Web Vitals entrypoint (without attribution)\n *\n * This is the default, lighter bundle (~6KB) that captures core web vitals metrics\n * without attribution data. Attribution data includes debugging information like\n * which elements caused layout shifts, timing breakdowns, etc.\n *\n * We split this into two bundles because:\n * 1. Attribution code adds ~6KB to the bundle size\n * 2. Attribution can cause memory issues in SPAs (onCLS holds references to detached DOM elements)\n * 3. Most users only need aggregate metrics, not debugging attribution data\n *\n * For attribution data, use web-vitals-with-attribution.ts instead by setting:\n *   capture_performance: { web_vitals_attribution: true }\n *\n * @see web-vitals-with-attribution.ts\n */\nimport { assignableWindow } from '../utils/globals'\n\nimport { onINP, onLCP, onCLS, onFCP } from 'web-vitals'\n\nconst postHogWebVitalsCallbacks = {\n    onLCP,\n    onCLS,\n    onFCP,\n    onINP,\n}\n\nassignableWindow.__PosthogExtensions__ = assignableWindow.__PosthogExtensions__ || {}\nassignableWindow.__PosthogExtensions__.postHogWebVitalsCallbacks = postHogWebVitalsCallbacks\n\n// we used to put posthogWebVitalsCallbacks on window, and now we put it on __PosthogExtensions__\n// but that means that old clients which lazily load this extension are looking in the wrong place\n// yuck,\n// so we also put it directly on the window\n// when 1.161.1 is the oldest version seen in production we can remove this\nassignableWindow.postHogWebVitalsCallbacks = postHogWebVitalsCallbacks\n// deprecated function kept for backwards compatibility\nassignableWindow.__PosthogExtensions__.loadWebVitalsCallbacks = () => postHogWebVitalsCallbacks\n\nexport default postHogWebVitalsCallbacks\n"]}