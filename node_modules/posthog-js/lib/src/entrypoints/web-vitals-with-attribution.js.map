{"version":3,"file":"web-vitals-with-attribution.js","sourceRoot":"","sources":["../../../src/entrypoints/web-vitals-with-attribution.ts"],"names":[],"mappings":";;AAAA;;;;;;;;;;;;;;;;;GAiBG;AACH,4CAAmD;AAEnD,sDAK+B;AAE/B,IAAM,yBAAyB,GAAG;IAC9B,KAAK,EAAE,mBAAoB;IAC3B,KAAK,EAAE,mBAAoB;IAC3B,KAAK,EAAE,mBAAoB;IAC3B,KAAK,EAAE,mBAAoB;CAC9B,CAAA;AAED,0BAAgB,CAAC,qBAAqB,GAAG,0BAAgB,CAAC,qBAAqB,IAAI,EAAE,CAAA;AACrF,0BAAgB,CAAC,qBAAqB,CAAC,yBAAyB,GAAG,yBAAyB,CAAA;AAE5F,iGAAiG;AACjG,kGAAkG;AAClG,QAAQ;AACR,2CAA2C;AAC3C,2EAA2E;AAC3E,0BAAgB,CAAC,yBAAyB,GAAG,yBAAyB,CAAA;AAEtE,kBAAe,yBAAyB,CAAA","sourcesContent":["/**\n * Web Vitals entrypoint (with attribution)\n *\n * This bundle includes attribution data which provides additional debugging information:\n * - Which elements caused layout shifts (CLS)\n * - Timing breakdowns for LCP\n * - Interaction targets for INP\n *\n * This bundle is ~12KB (vs ~6KB for the non-attribution version).\n *\n * Note: Attribution can cause memory issues in SPAs because the onCLS callback\n * holds references to DOM elements that may be detached during navigation.\n * Only enable if you need the debugging data.\n *\n * Enable via: capture_performance: { web_vitals_attribution: true }\n *\n * @see web-vitals.ts for the lighter, default bundle\n */\nimport { assignableWindow } from '../utils/globals'\n\nimport {\n    onINP as onINPWithAttribution,\n    onLCP as onLCPWithAttribution,\n    onCLS as onCLSWithAttribution,\n    onFCP as onFCPWithAttribution,\n} from 'web-vitals/attribution'\n\nconst postHogWebVitalsCallbacks = {\n    onLCP: onLCPWithAttribution,\n    onCLS: onCLSWithAttribution,\n    onFCP: onFCPWithAttribution,\n    onINP: onINPWithAttribution,\n}\n\nassignableWindow.__PosthogExtensions__ = assignableWindow.__PosthogExtensions__ || {}\nassignableWindow.__PosthogExtensions__.postHogWebVitalsCallbacks = postHogWebVitalsCallbacks\n\n// we used to put posthogWebVitalsCallbacks on window, and now we put it on __PosthogExtensions__\n// but that means that old clients which lazily load this extension are looking in the wrong place\n// yuck,\n// so we also put it directly on the window\n// when 1.161.1 is the oldest version seen in production we can remove this\nassignableWindow.postHogWebVitalsCallbacks = postHogWebVitalsCallbacks\n\nexport default postHogWebVitalsCallbacks\n"]}