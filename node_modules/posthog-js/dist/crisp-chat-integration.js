!function(){"use strict";var n="undefined"!=typeof window?window:void 0,i="undefined"!=typeof globalThis?globalThis:n;"undefined"==typeof self&&(i.self=i),"undefined"==typeof File&&(i.File=function(){});var o=null==i?void 0:i.navigator;null==i||i.document,null==i||i.location,null==i||i.fetch,null!=i&&i.XMLHttpRequest&&"withCredentials"in new i.XMLHttpRequest&&i.XMLHttpRequest,null==i||i.AbortController,null==o||o.userAgent;var r=null!=n?n:{},e=function(i,o){var{debugEnabled:t}=void 0===o?{}:o,l={i:function(o){if(n&&(r.POSTHOG_DEBUG||t)&&void 0!==n.console&&n.console){for(var e=("__rrweb_original__"in n.console[o]?n.console[o].__rrweb_original__:n.console[o]),l=arguments.length,a=new Array(l>1?l-1:0),u=1;u<l;u++)a[u-1]=arguments[u];e(i,...a)}},info:function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];l.i("log",...i)},warn:function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];l.i("warn",...i)},error:function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];l.i("error",...i)},critical:function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];console.error(i,...o)},uninitializedWarning:n=>{l.error("You must initialize PostHog before calling "+n)},createLogger:(n,o)=>e(i+" "+n,o)};return l},t=(0,e("[PostHog.js]").createLogger)("[PostHog Crisp Chat]"),l=new Set,a=void 0;r.__PosthogExtensions__=r.__PosthogExtensions__||{},r.__PosthogExtensions__.integrations=r.__PosthogExtensions__.integrations||{},r.__PosthogExtensions__.integrations.crispChat={start:n=>{var i;if(null!=(i=n.config.integrations)&&i.crispChat){var o=r.$crisp;if(o){a=n.onSessionId((i=>{var r,e;l.has(i)||(r=n.get_session_replay_url(),e=n.requestRouter.endpointFor("ui","/project/"+n.config.token+"/person/"+n.get_distinct_id()),o.push(["set","session:data",[[["posthogSessionURL",r],["posthogPersonURL",e]]]]),l.add(i))})),t.info("integration started")}else t.warn("Crisp Chat not found while initializing the integration")}},stop:()=>{null==a||a(),a=void 0}}}();
//# sourceMappingURL=crisp-chat-integration.js.map
