!function(){"use strict";var t="undefined"!=typeof window?window:void 0,e="undefined"!=typeof globalThis?globalThis:t;"undefined"==typeof self&&(e.self=e),"undefined"==typeof File&&(e.File=function(){});var r=null==e?void 0:e.navigator;null==e||e.document,null==e||e.location,null==e||e.fetch,null!=e&&e.XMLHttpRequest&&"withCredentials"in new e.XMLHttpRequest&&e.XMLHttpRequest,null==e||e.AbortController,null==r||r.userAgent;var i=null!=t?t:{};function n(){return n=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)({}).hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},n.apply(null,arguments)}class a{constructor(){this.t=void 0,this.o=0,this.i=[]}u(t){var e;if(!t.hadRecentInput){var r=this.i[0],i=this.i.at(-1);this.o&&r&&i&&t.startTime-i.startTime<1e3&&t.startTime-r.startTime<5e3?(this.o+=t.value,this.i.push(t)):(this.o=t.value,this.i=[t]),null==(e=this.t)||e.call(this,t)}}}var o=()=>{var t=performance.getEntriesByType("navigation")[0];if(t&&t.responseStart>0&&t.responseStart<performance.now())return t},v=t=>{if("loading"===document.readyState)return"loading";var e=o();if(e){if(t<e.domInteractive)return"loading";if(0===e.domContentLoadedEventStart||t<e.domContentLoadedEventStart)return"dom-interactive";if(0===e.domComplete||t<e.domComplete)return"dom-content-loaded"}return"complete"},u=t=>{var e=t.nodeName;return 1===t.nodeType?e.toLowerCase():e.toUpperCase().replace(/^#/,"")},l=t=>{var e="";try{for(;9!==(null==(r=t)?void 0:r.nodeType);){var r,i=t,n=i.id?"#"+i.id:[u(i),...Array.from(i.classList).sort()].join(".");if(e.length+n.length>99)return e||n;if(e=e?n+">"+e:n,i.id)break;t=i.parentNode}}catch(t){}return e},s=new WeakMap;function d(t,e){return s.get(t)||s.set(t,new e),s.get(t)}var f,c=-1,h=()=>c,p=t=>{addEventListener("pageshow",(e=>{e.persisted&&(c=e.timeStamp,t(e))}),!0)},m=(t,e,r,i)=>{var n,a;return o=>{e.value>=0&&(o||i)&&(((a=e.value-(null!=n?n:0))||void 0===n)&&(n=e.value,e.delta=a,e.rating=((t,e)=>t>e[1]?"poor":t>e[0]?"needs-improvement":"good")(e.value,r),t(e)))}},g=t=>{requestAnimationFrame((()=>requestAnimationFrame((()=>t()))))},y=()=>{var t,e=o();return null!==(t=null==e?void 0:e.activationStart)&&void 0!==t?t:0},b=function(t,e){void 0===e&&(e=-1);var r=o(),i="navigate";return h()>=0?i="back-forward-cache":r&&(document.prerendering||y()>0?i="prerender":document.wasDiscarded?i="restore":r.type&&(i=r.type.replace(/_/g,"-"))),{name:t,value:e,rating:"good",delta:0,entries:[],id:"v5-"+Date.now()+"-"+(Math.floor(8999999999999*Math.random())+1e12),navigationType:i}},M=function(t,e,r){void 0===r&&(r={});try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var i=new PerformanceObserver((t=>{Promise.resolve().then((()=>{e(t.getEntries())}))}));return i.observe(n({type:t,buffered:!0},r)),i}}catch(t){}},T=t=>{var e=!1;return()=>{e||(t(),e=!0)}},L=-1,w=new Set,E=()=>"hidden"!==document.visibilityState||document.prerendering?1/0:0,S=t=>{if("hidden"===document.visibilityState){if("visibilitychange"===t.type)for(var e of w)e();isFinite(L)||(L="visibilitychange"===t.type?t.timeStamp:0,removeEventListener("prerenderingchange",S,!0))}},P=()=>{if(L<0){var t,e=y(),r=document.prerendering||null==(t=globalThis.performance.getEntriesByType("visibility-state").filter((t=>"hidden"===t.name&&t.startTime>e))[0])?void 0:t.startTime;L=null!=r?r:E(),addEventListener("visibilitychange",S,!0),addEventListener("prerenderingchange",S,!0),p((()=>{setTimeout((()=>{L=E()}))}))}return{get firstHiddenTime(){return L},onHidden(t){w.add(t)}}},D=t=>{document.prerendering?addEventListener("prerenderingchange",(()=>t()),!0):t()},F=[1800,3e3],k=function(t,e){void 0===e&&(e={}),D((()=>{var r,i=P(),n=b("FCP"),a=M("paint",(t=>{for(var e of t)"first-contentful-paint"===e.name&&(a.disconnect(),e.startTime<i.firstHiddenTime&&(n.value=Math.max(e.startTime-y(),0),n.entries.push(e),r(!0)))}));a&&(r=m(t,n,F,e.reportAllChanges),p((i=>{n=b("FCP"),r=m(t,n,F,e.reportAllChanges),g((()=>{n.value=performance.now()-i.timeStamp,r(!0)}))})))}))},C=[.1,.25],O=t=>t.find((t=>{var e;return 1===(null==(e=t.node)?void 0:e.nodeType)}))||t[0],j=0,B=1/0,A=0,W=t=>{for(var e of t)e.interactionId&&(B=Math.min(B,e.interactionId),A=Math.max(A,e.interactionId),j=A?(A-B)/7+1:0)},I=()=>{var t;return f?j:null!==(t=performance.interactionCount)&&void 0!==t?t:0},N=0;class q{constructor(){this.l=[],this.h=new Map,this.m=void 0,this.p=void 0}v(){N=I(),this.l.length=0,this.h.clear()}M(){var t=Math.min(this.l.length-1,Math.floor((I()-N)/50));return this.l[t]}u(t){var e;if(null!=(e=this.m)&&e.call(this,t),t.interactionId||"first-input"===t.entryType){var r=this.l.at(-1),i=this.h.get(t.interactionId);if(i||this.l.length<10||t.duration>r.T){var n;if(i?t.duration>i.T?(i.entries=[t],i.T=t.duration):t.duration===i.T&&t.startTime===i.entries[0].startTime&&i.entries.push(t):(i={id:t.interactionId,entries:[t],T:t.duration},this.h.set(i.id,i),this.l.push(i)),this.l.sort(((t,e)=>e.T-t.T)),this.l.length>10){var a=this.l.splice(10);for(var o of a)this.h.delete(o.id)}null==(n=this.p)||n.call(this,i)}}}}var H=t=>{var e=globalThis.requestIdleCallback||setTimeout;"hidden"===document.visibilityState?t():(t=T(t),addEventListener("visibilitychange",t,{once:!0,capture:!0}),e((()=>{t(),removeEventListener("visibilitychange",t,{capture:!0})})))},R=[200,500];class x{constructor(){this.m=void 0}u(t){var e;null==(e=this.m)||e.call(this,t)}}var U=[2500,4e3],V={onLCP:function(t,e){void 0===e&&(e={});var r=d(e=Object.assign({},e),x),i=new WeakMap;r.m=t=>{var r=t.element;if(r){var n,a=null!==(n=null==e.generateTarget?void 0:e.generateTarget(r))&&void 0!==n?n:l(r);i.set(t,a)}},function(t,e){void 0===e&&(e={}),D((()=>{var r,i=P(),n=b("LCP"),a=d(e,x),o=t=>{for(var o of(e.reportAllChanges||(t=t.slice(-1)),t))a.u(o),o.startTime<i.firstHiddenTime&&(n.value=Math.max(o.startTime-y(),0),n.entries=[o],r())},v=M("largest-contentful-paint",o);if(v){r=m(t,n,U,e.reportAllChanges);var u=T((()=>{o(v.takeRecords()),v.disconnect(),r(!0)})),l=t=>{t.isTrusted&&(H(u),removeEventListener(t.type,l,{capture:!0}))};for(var s of["keydown","click","visibilitychange"])addEventListener(s,l,{capture:!0});p((i=>{n=b("LCP"),r=m(t,n,U,e.reportAllChanges),g((()=>{n.value=performance.now()-i.timeStamp,r(!0)}))}))}}))}((e=>{var r=(t=>{var e={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadDuration:0,elementRenderDelay:t.value};if(t.entries.length){var r=o();if(r){var n=r.activationStart||0,a=t.entries.at(-1),v=a.url&&performance.getEntriesByType("resource").filter((t=>t.name===a.url))[0],u=Math.max(0,r.responseStart-n),l=Math.max(u,v?(v.requestStart||v.startTime)-n:0),s=Math.min(t.value,Math.max(l,v?v.responseEnd-n:0));e={target:i.get(a),timeToFirstByte:u,resourceLoadDelay:l-u,resourceLoadDuration:s-l,elementRenderDelay:t.value-s,navigationEntry:r,lcpEntry:a},a.url&&(e.url=a.url),v&&(e.lcpResourceEntry=v)}}return Object.assign(t,{attribution:e})})(e);t(r)}),e)},onCLS:function(t,e){void 0===e&&(e={});var r=d(e=Object.assign({},e),a),i=new WeakMap;r.t=t=>{var r;if(null!=t&&null!=(r=t.sources)&&r.length){var n=O(t.sources),a=null==n?void 0:n.node;if(a){var o,v=null!==(o=null==e.generateTarget?void 0:e.generateTarget(a))&&void 0!==o?o:l(a);i.set(n,v)}}},function(t,e){void 0===e&&(e={});var r=P();k(T((()=>{var i,n=b("CLS",0),o=d(e,a),v=t=>{for(var e of t)o.u(e);o.o>n.value&&(n.value=o.o,n.entries=o.i,i())},u=M("layout-shift",v);u&&(i=m(t,n,C,e.reportAllChanges),r.onHidden((()=>{v(u.takeRecords()),i(!0)})),p((()=>{o.o=0,n=b("CLS",0),i=m(t,n,C,e.reportAllChanges),g((()=>i()))})),setTimeout(i))})))}((e=>{var r=(t=>{var e={};if(t.entries.length){var r,n=t.entries.reduce(((t,e)=>t.value>e.value?t:e));if(null!=n&&null!=(r=n.sources)&&r.length){var a=O(n.sources);a&&(e={largestShiftTarget:i.get(a),largestShiftTime:n.startTime,largestShiftValue:n.value,largestShiftSource:a,largestShiftEntry:n,loadState:v(n.startTime)})}}return Object.assign(t,{attribution:e})})(e);t(r)}),e)},onFCP:function(t,e){void 0===e&&(e={}),k((e=>{var r=(t=>{var e={timeToFirstByte:0,firstByteToFCP:t.value,loadState:v(h())};if(t.entries.length){var r=o(),i=t.entries.at(-1);if(r){var n=r.activationStart||0,a=Math.max(0,r.responseStart-n);e={timeToFirstByte:a,firstByteToFCP:t.value-a,loadState:v(t.entries[0].startTime),navigationEntry:r,fcpEntry:i}}}return Object.assign(t,{attribution:e})})(e);t(r)}),e)},onINP:function(t,e){void 0===e&&(e={});var r=d(e=Object.assign({},e),q),i=[],n=[],a=0,o=new WeakMap,u=new WeakMap,s=!1,c=()=>{s||(H(h),s=!0)},h=()=>{var t=r.l.map((t=>o.get(t.entries[0]))),e=n.length-50;n=n.filter(((r,i)=>i>=e||t.includes(r)));var v=new Set;for(var u of n){var l=g(u.startTime,u.processingEnd);for(var d of l)v.add(d)}var f=i.length-1-50;i=i.filter(((t,e)=>t.startTime>a&&e>f||v.has(t))),s=!1};r.m=t=>{var e,r=t.startTime+t.duration;a=Math.max(a,t.processingEnd);for(var i=n.length-1;i>=0;i--){var v=n[i];if(Math.abs(r-v.renderTime)<=8){(e=v).startTime=Math.min(t.startTime,e.startTime),e.processingStart=Math.min(t.processingStart,e.processingStart),e.processingEnd=Math.max(t.processingEnd,e.processingEnd),e.entries.push(t);break}}e||(e={startTime:t.startTime,processingStart:t.processingStart,processingEnd:t.processingEnd,renderTime:r,entries:[t]},n.push(e)),(t.interactionId||"first-input"===t.entryType)&&o.set(t,e),c()},r.p=t=>{if(!u.get(t)){var r=t.entries[0].target;if(r){var i,n=null!==(i=null==e.generateTarget?void 0:e.generateTarget(r))&&void 0!==i?i:l(r);u.set(t,n)}}};var g=(t,e)=>{var r=[];for(var n of i)if(!(n.startTime+n.duration<t)){if(n.startTime>e)break;r.push(n)}return r},y=t=>{var e=t.entries[0],i=o.get(e),n=e.processingStart,a=Math.max(e.startTime+e.duration,n),l=Math.min(i.processingEnd,a),s=i.entries.sort(((t,e)=>t.processingStart-e.processingStart)),d=g(e.startTime,l),f=r.h.get(e.interactionId),c={interactionTarget:u.get(f),interactionType:e.name.startsWith("key")?"keyboard":"pointer",interactionTime:e.startTime,nextPaintTime:a,processedEventEntries:s,longAnimationFrameEntries:d,inputDelay:n-e.startTime,processingDuration:l-n,presentationDelay:a-l,loadState:v(e.startTime),longestScript:void 0,totalScriptDuration:void 0,totalStyleAndLayoutDuration:void 0,totalPaintDuration:void 0,totalUnattributedDuration:void 0};return((t,e)=>{if(null!=(e=t.longAnimationFrameEntries)&&e.length){var r,i,n=t.interactionTime,a=t.inputDelay,o=t.processingDuration,v=0,u=0,l=0,s=0;for(var d of t.longAnimationFrameEntries)for(var f of(u=u+d.startTime+d.duration-d.styleAndLayoutStart,d.scripts)){var c=f.startTime+f.duration;if(!(c<n)){var h=c-Math.max(n,f.startTime),p=f.duration?h/f.duration*f.forcedStyleAndLayoutDuration:0;v+=h-p,u+=p,h>s&&(i=f.startTime<n+a?"input-delay":f.startTime>=n+a+o?"presentation-delay":"processing-duration",r=f,s=h)}}var m=t.longAnimationFrameEntries.at(-1),g=m?m.startTime+m.duration:0;g>=n+a+o&&(l=t.nextPaintTime-g),r&&i&&(t.longestScript={entry:r,subpart:i,intersectingDuration:s}),t.totalScriptDuration=v,t.totalStyleAndLayoutDuration=u,t.totalPaintDuration=l,t.totalUnattributedDuration=t.nextPaintTime-n-v-u-l}})(c),Object.assign(t,{attribution:c})};M("long-animation-frame",(t=>{i=i.concat(t),c()})),function(t,e){if(void 0===e&&(e={}),globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype){var r=P();D((()=>{var i;"interactionCount"in performance||f||(f=M("event",W,{type:"event",buffered:!0,durationThreshold:0}));var n,a=b("INP"),o=d(e,q),v=t=>{H((()=>{for(var e of t)o.u(e);var r=o.M();r&&r.T!==a.value&&(a.value=r.T,a.entries=r.entries,n())}))},u=M("event",v,{durationThreshold:null!==(i=e.durationThreshold)&&void 0!==i?i:40});n=m(t,a,R,e.reportAllChanges),u&&(u.observe({type:"first-input",buffered:!0}),r.onHidden((()=>{v(u.takeRecords()),n(!0)})),p((()=>{o.v(),a=b("INP"),n=m(t,a,R,e.reportAllChanges)})))}))}}((e=>{var r=y(e);t(r)}),e)}};i.__PosthogExtensions__=i.__PosthogExtensions__||{},i.__PosthogExtensions__.postHogWebVitalsCallbacks=V,i.postHogWebVitalsCallbacks=V}();
//# sourceMappingURL=web-vitals-with-attribution.js.map
