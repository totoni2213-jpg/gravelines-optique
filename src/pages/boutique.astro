---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import equipeData from '../data/equipe.json';
import boutiqueData from '../data/boutique.json';

const team = equipeData.membres.map((m: { nom: string; role: string; expertise: string; photo: string }) => ({
  name: m.nom, role: m.role, exp: m.expertise, photo: m.photo
}));

const { texte1, texte2, stats, avantages } = boutiqueData as {
  texte1: string;
  texte2: string;
  stats: { value: string; label: string }[];
  avantages: { icon: string; title: string; desc: string }[];
};
---

<Layout
  title="La Boutique | Opticien à Montivilliers — Gravelines Optique"
  description="Votre opticien à Montivilliers : Gravelines Optique. Une boutique de +100m². Ouvert du mardi au samedi. Prise de rendez-vous en ligne."
>
  <Header />

  <!-- Hero -->
  <section class="pt-32 pb-20 bg-dark text-white relative overflow-hidden">
    <div class="absolute inset-0 opacity-5">
      <div class="absolute inset-0" style="background-image: radial-gradient(circle at 2px 2px, #C9A961 1px, transparent 0); background-size: 40px 40px;"></div>
    </div>
    <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <div class="text-gold text-xs tracking-widest uppercase font-medium mb-4">Qui sommes-nous</div>
      <h1 class="font-serif text-5xl sm:text-6xl text-white mb-6">
        La <em class="text-gold">Boutique</em>
      </h1>
      <p class="text-white/60 text-lg max-w-2xl mx-auto">
        100m² dédiés à votre vision depuis 2008 à Montivilliers.
        Une équipe de {team.length} experts passionnés à votre service.
      </p>
    </div>
  </section>

  <!-- Notre ADN -->
  <section class="py-24 bg-cream">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid lg:grid-cols-2 gap-16 items-center">
        <div class="reveal">
          <div class="text-gold text-xs tracking-widest uppercase font-medium mb-4">Notre histoire</div>
          <h2 class="font-serif text-4xl sm:text-5xl text-dark mb-6 leading-tight">
            L'optique indépendante<br />au service de <em>votre vision</em>
          </h2>
          <p class="text-dark/70 text-lg leading-relaxed mb-6">{texte1}</p>
          <p class="text-dark/70 leading-relaxed mb-8">{texte2}</p>
          <div class="grid grid-cols-2 gap-6">
            {stats.map((stat) => (
              <div class="border-l-2 border-gold pl-4">
                <div class="font-serif text-gold text-2xl">{stat.value}</div>
                <div class="text-dark/50 text-sm">{stat.label}</div>
              </div>
            ))}
          </div>
        </div>

        <div class="reveal space-y-4">
          <div class="rounded-sm overflow-hidden aspect-[4/3]">
            <img
              src="/images/boutique/Devanture_gravelines_optique.webp"
              alt="Devanture Gravelines Optique Montivilliers"
              class="w-full h-full object-cover hover:scale-105 transition-transform duration-500"
            />
          </div>
          <div class="grid grid-cols-2 gap-4">
            <div class="rounded-sm overflow-hidden aspect-square">
              <img
                src="/images/boutique/Interieur_boutique_gravelines_optique.jpg"
                alt="Intérieur boutique Gravelines Optique"
                class="w-full h-full object-cover hover:scale-105 transition-transform duration-500"
              />
            </div>
            <div class="rounded-sm overflow-hidden aspect-square">
              <img
                src="/images/boutique/Presentation_Lunettes_Presentoir_gravelines_optique.jpg"
                alt="Présentoir lunettes Gravelines Optique"
                class="w-full h-full object-cover hover:scale-105 transition-transform duration-500"
              />
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Avantages -->
  <section class="py-20 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12 reveal">
        <div class="text-gold text-xs tracking-widest uppercase font-medium mb-3">Pourquoi nous choisir</div>
        <h2 class="font-serif text-4xl text-dark mb-5">L'avantage de l'indépendant</h2>
      </div>
      <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-6">
        {avantages.map((item, i) => (
          <div class="reveal text-center p-8 border border-cream-dark rounded-sm hover:border-gold transition-colors" style={`transition-delay: ${i * 80}ms`}>
            <div class="text-4xl mb-4">{item.icon}</div>
            <h3 class="font-serif text-lg text-dark mb-3">{item.title}</h3>
            <p class="text-dark/60 text-sm leading-relaxed">{item.desc}</p>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- L'Équipe -->
  <section class="py-24 bg-cream">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16 reveal">
        <div class="text-gold text-xs tracking-widest uppercase font-medium mb-3">Notre équipe</div>
        <h2 class="font-serif text-4xl sm:text-5xl text-dark mb-5">{team.length} Experts à votre service</h2>
        <p class="text-dark/60 text-lg max-w-xl mx-auto">
          Des professionnels diplômés, passionnés par l'optique et dévoués à votre satisfaction.
        </p>
      </div>

      <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6">
        {team.map((member, i) => (
          <div
            class="reveal group text-center"
            style={`transition-delay: ${i * 80}ms`}
          >
            <div class="w-28 h-28 rounded-full border-2 border-gold/30 group-hover:border-gold mx-auto mb-4 transition-colors duration-300 overflow-hidden">
              <img
                src={member.photo}
                alt={member.name}
                class="w-full h-full object-cover object-top group-hover:scale-110 transition-transform duration-500"
              />
            </div>
            <h3 class="font-serif text-dark text-lg mb-1">{member.name}</h3>
            <div class="text-gold text-xs font-medium uppercase tracking-wide mb-1">{member.role}</div>
            <div class="text-dark/50 text-xs">{member.exp}</div>
          </div>
        ))}
      </div>

    </div>
  </section>

  <!-- CTA -->
  <section class="py-20 bg-dark text-white">
    <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <h2 class="font-serif text-4xl text-white mb-5">Venez nous rencontrer</h2>
      <p class="text-white/60 text-lg mb-8">
        27 rue Léon Gambetta, 76290 Montivilliers<br />
        Ouvert du mardi au samedi
      </p>
      <a href="/contact" class="inline-flex items-center gap-2 bg-gold hover:bg-gold-dark text-dark font-semibold px-8 py-4 rounded-sm transition-colors text-sm">
        Voir les horaires & accès
      </a>
    </div>
  </section>

  <Footer />
</Layout>
